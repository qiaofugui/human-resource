import{m as h,ae as m,l as F,ag as S,a2 as ne,aZ as te,c as H,aW as W,N as le,V as X,bE as se,cq as Z,a3 as ue,f as y,c0 as oe,g as re,o as ce,be as ie,q as I,a4 as de,a0 as R,h as w,_ as G,w as q,a9 as ve}from"./index-na3ZdG7K.js";import{V as fe}from"./Checkbox-gjcEnFOk.js";const me=()=>({name:String,prefixCls:String,options:F([]),disabled:Boolean,id:String}),he=()=>h(h({},me()),{defaultValue:F(),value:F(),onChange:S(),"onUpdate:value":S()}),be=()=>({prefixCls:String,defaultChecked:m(),checked:m(),disabled:m(),isGroup:m(),value:ne.any,name:String,id:String,indeterminate:m(),type:te("checkbox"),autofocus:m(),onChange:S(),"onUpdate:checked":S(),onClick:S(),skipGroup:m(!1)}),ge=()=>h(h({},be()),{indeterminate:m(!1)}),z=Symbol("CheckboxGroupContext");var K=function(e,b){var u={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&b.indexOf(t)<0&&(u[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)b.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(u[t[r]]=e[t[r]]);return u};const O=H({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:ge(),setup(e,b){let{emit:u,attrs:t,slots:r,expose:P}=b;const C=W(),_=le.useInject(),{prefixCls:c,direction:g,disabled:j}=X("checkbox",e),$=se(),[i,f]=Z(c),l=ue(z,void 0),p=Symbol("checkboxUniId"),M=y(()=>(l==null?void 0:l.disabled.value)||j.value);oe(()=>{!e.skipGroup&&l&&l.registerValue(p,e.value)}),re(()=>{l&&l.cancelValue(p)}),ce(()=>{ie(!!(e.checked!==void 0||l||e.value===void 0))});const A=a=>{const o=a.target.checked;u("update:checked",o),u("change",a),C.onFieldChange()},x=I();return P({focus:()=>{var a;(a=x.value)===null||a===void 0||a.focus()},blur:()=>{var a;(a=x.value)===null||a===void 0||a.blur()}}),()=>{var a;const o=de((a=r.default)===null||a===void 0?void 0:a.call(r)),{indeterminate:s,skipGroup:d,id:E=C.id.value}=e,T=K(e,["indeterminate","skipGroup","id"]),{onMouseenter:D,onMouseleave:k,onInput:pe,class:L,style:Q}=t,Y=K(t,["onMouseenter","onMouseleave","onInput","class","style"]),v=h(h(h(h({},T),{id:E,prefixCls:c.value}),Y),{disabled:M.value});l&&!d?(v.onChange=function(){for(var U=arguments.length,B=new Array(U),V=0;V<U;V++)B[V]=arguments[V];u("change",...B),l.toggleOption({label:o,value:e.value})},v.name=l.name.value,v.checked=l.mergedValue.value.includes(e.value),v.disabled=M.value||$.value,v.indeterminate=s):v.onChange=A;const ee=R({[`${c.value}-wrapper`]:!0,[`${c.value}-rtl`]:g.value==="rtl",[`${c.value}-wrapper-checked`]:v.checked,[`${c.value}-wrapper-disabled`]:v.disabled,[`${c.value}-wrapper-in-form-item`]:_.isFormItemInput},L,f.value),ae=R({[`${c.value}-indeterminate`]:s},f.value);return i(w("label",{class:ee,style:Q,onMouseenter:D,onMouseleave:k},[w(fe,G(G({"aria-checked":s?"mixed":void 0},v),{},{class:ae,ref:x}),null),o.length?w("span",null,[o]):null]))}}}),N=H({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:he(),setup(e,b){let{slots:u,attrs:t,emit:r,expose:P}=b;const C=W(),{prefixCls:_,direction:c}=X("checkbox",e),g=y(()=>`${_.value}-group`),[j,$]=Z(g),i=I((e.value===void 0?e.defaultValue:e.value)||[]);q(()=>e.value,()=>{i.value=e.value||[]});const f=y(()=>e.options.map(n=>typeof n=="string"||typeof n=="number"?{label:n,value:n}:n)),l=I(Symbol()),p=I(new Map),M=n=>{p.value.delete(n),l.value=Symbol()},A=(n,a)=>{p.value.set(n,a),l.value=Symbol()},x=I(new Map);return q(l,()=>{const n=new Map;for(const a of p.value.values())n.set(a,!0);x.value=n}),ve(z,{cancelValue:M,registerValue:A,toggleOption:n=>{const a=i.value.indexOf(n.value),o=[...i.value];a===-1?o.push(n.value):o.splice(a,1),e.value===void 0&&(i.value=o);const s=o.filter(d=>x.value.has(d)).sort((d,E)=>{const T=f.value.findIndex(k=>k.value===d),D=f.value.findIndex(k=>k.value===E);return T-D});r("update:value",s),r("change",s),C.onFieldChange()},mergedValue:i,name:y(()=>e.name),disabled:y(()=>e.disabled)}),P({mergedValue:i}),()=>{var n;const{id:a=C.id.value}=e;let o=null;return f.value&&f.value.length>0&&(o=f.value.map(s=>{var d;return w(O,{prefixCls:_.value,key:s.value.toString(),disabled:"disabled"in s?s.disabled:e.disabled,indeterminate:s.indeterminate,value:s.value,checked:i.value.indexOf(s.value)!==-1,onChange:s.onChange,class:`${g.value}-item`},{default:()=>[u.label!==void 0?(d=u.label)===null||d===void 0?void 0:d.call(u,s):s.label]})})),j(w("div",G(G({},t),{},{class:[g.value,{[`${g.value}-rtl`]:c.value==="rtl"},t.class,$.value],id:a}),[o||((n=u.default)===null||n===void 0?void 0:n.call(u))]))}}});O.Group=N;O.install=function(e){return e.component(O.name,O),e.component(N.name,N),e};export{O as C,N as _};
